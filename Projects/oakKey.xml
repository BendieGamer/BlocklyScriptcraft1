<xml xmlns="http://www.w3.org/1999/xhtml">
  <block type="scriptcraftfunction" id="z^HlvQ?i{{;|W/-w=@Nr" x="-362" y="-412">
    <field name="nameOfFunction">test</field>
    <statement name="FUNCTIONCODE">
      <block type="setvariablevalue" id="rgjqIJG:fLUDXa-TCcvy">
        <field name="VARNAME">key</field>
        <value name="EXPRESSION">
          <block type="itemstack" id="[.*fiDU$,dE.2k%.YvWI">
            <field name="COUNT">1</field>
            <value name="ITEM">
              <block type="materialtype" id="#C#V{~6_`Bgc/Oxf5#HW">
                <field name="MATERIAL">TRIPWIRE_HOOK</field>
              </block>
            </value>
          </block>
        </value>
        <next>
          <block type="setstackname" id="aHC6.6}$IFTR9jHE/Ts)">
            <value name="STACK">
              <block type="varname" id="fo@G]b-%DH$t?a,$CXF-">
                <field name="VARNAME">key</field>
              </block>
            </value>
            <value name="NAME">
              <block type="varname" id="KCHvPB5nGP#,MiMrkXZr">
                <field name="VARNAME">"OAK_KEY"</field>
              </block>
            </value>
            <next>
              <block type="dropitem" id="_7uu#ettz/5{aOCg!jO9">
                <value name="ITEMSTACK">
                  <block type="varname" id="g.*dGhX{Z/a9`r{W[5o*">
                    <field name="VARNAME">key</field>
                  </block>
                </value>
                <value name="LOCATION">
                  <block type="varname" id="*pE@R/D8A%a$(;z~ZXlh">
                    <field name="VARNAME">self.location</field>
                  </block>
                </value>
                <next>
                  <block type="eventlistener" id="e^{F1~w{lpUHSJ{!uK=Q">
                    <field name="LISTENERTYPE">playerInteract</field>
                    <statement name="LISTENERCODE">
                      <block type="setvariablevalue" id="|i}i#T3u1~{(2x2z10=e">
                        <field name="VARNAME">player</field>
                        <value name="EXPRESSION">
                          <block type="eventinfo" id="aHNHlZ!}aqgz{;vAYybv">
                            <field name="INFORMATION">getPlayer</field>
                          </block>
                        </value>
                        <next>
                          <block type="setvariablevalue" id="/-12=SAMC`kHI_q;PkI0">
                            <field name="VARNAME">block</field>
                            <value name="EXPRESSION">
                              <block type="eventinfo" id="Z2xxZ_N8Lmy2Yqp]X+#Q">
                                <field name="INFORMATION">getClickedBlock</field>
                              </block>
                            </value>
                            <next>
                              <block type="controls_if" id="`WLntczsCFj!jrBfE;],">
                                <value name="IF0">
                                  <block type="logic_compare" id=";?F^={xTPSg(+idjcv2}">
                                    <field name="OP">EQ</field>
                                    <value name="A">
                                      <block type="getblocktype" id="DB|YxpSY4?d`{~NHHgF`">
                                        <value name="BLOCK">
                                          <block type="varname" id="7umd[]V4vL,`MT-kpu$l">
                                            <field name="VARNAME">block</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="materialtype" id="Ne9Ja0)r@1l]h2r(8X;+">
                                        <field name="MATERIAL">OAK_DOOR</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <statement name="DO0">
                                  <block type="setvariablevalue" id="8Nrr0U1|2_~3%JR^F}12">
                                    <field name="VARNAME">inhand</field>
                                    <value name="EXPRESSION">
                                      <block type="iteminhandis" id="?sVY*-7e/-(Xe6_l8TMk">
                                        <value name="PLAYER">
                                          <block type="varname" id="|/JIDMu=y}FB8uyk(!o?">
                                            <field name="VARNAME">player</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <next>
                                      <block type="setvariablevalue" id="pqOp?Q6V[g1M2_-4Vo{U">
                                        <field name="VARNAME">name</field>
                                        <value name="EXPRESSION">
                                          <block type="nameofstack" id="R?hk!gHTu?zUnnE`R}~(">
                                            <value name="STACK">
                                              <block type="varname" id="|{.?#dDT(6(k}BnsQ:O/">
                                                <field name="VARNAME">inhand</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <next>
                                          <block type="controls_if" id="fDf=K^vUd`xp}lGwYx%0">
                                            <mutation else="1"></mutation>
                                            <value name="IF0">
                                              <block type="logic_compare" id="z|GR]-sL5)Rp72h%E:HR">
                                                <field name="OP">EQ</field>
                                                <value name="A">
                                                  <block type="varname" id="5*A(d,ivQz7V.ep|UCd-">
                                                    <field name="VARNAME">name</field>
                                                  </block>
                                                </value>
                                                <value name="B">
                                                  <block type="varname" id="|A==Xx}+WLRwh.+h1p0T">
                                                    <field name="VARNAME">"OAK_KEY"</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <statement name="DO0">
                                              <block type="sendmessage" id="u.w,uuduBodE`0ax2],L">
                                                <field name="MESSAGE">"Welcome " + player.name</field>
                                                <value name="PLAYER">
                                                  <block type="varname" id="7pG5ndT-5jeRSS9y3rbF">
                                                    <field name="VARNAME">player</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </statement>
                                            <statement name="ELSE">
                                              <block type="sendmessage" id="]l4Q4cqERZC(QCV.;JL~">
                                                <field name="MESSAGE">"You need an OAK KEY to open this door"</field>
                                                <value name="PLAYER">
                                                  <block type="varname" id="O?Y%7#%HQe:P!t?9DZRj">
                                                    <field name="VARNAME">player</field>
                                                  </block>
                                                </value>
                                                <next>
                                                  <block type="eventcancel" id="KSsLV1M[jq3jw+MKiFP5"></block>
                                                </next>
                                              </block>
                                            </statement>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </statement>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </statement>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
</xml>